<h2 mat-dialog-title>Crear Factura</h2>
<form [formGroup]="facturaForm" (ngSubmit)="crear()">
  <mat-dialog-content>

    <mat-form-field appearance="fill" style="width: 100%;">
      <mat-label>Cliente</mat-label>
      <mat-select formControlName="idCliente" placeholder="Seleccione cliente">
        <mat-option *ngFor="let cliente of clientes" [value]="cliente.identificacion">
          {{ cliente.nombres }} {{ cliente.apellidos }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="facturaForm.get('idCliente')?.hasError('required')">Cliente es requerido</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" style="width: 100%;">
      <mat-label>Mesa</mat-label>
      <mat-select formControlName="nroMesa" placeholder="Seleccione mesa">
        <mat-option *ngFor="let mesa of mesas" [value]="mesa.nroMesa" [disabled]="mesa.reservada">
          {{ mesa.nombre }} ({{ mesa.puestos }} puestos)
          <span *ngIf="mesa.reservada"> - Reservada</span>
        </mat-option>
      </mat-select>
      <mat-error *ngIf="facturaForm.get('nroMesa')?.hasError('required')">Mesa es requerida</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" style="width: 100%;">
      <mat-label>Mesero</mat-label>
      <mat-select formControlName="idMesero" placeholder="Seleccione mesero">
        <mat-option *ngFor="let mesero of meseros" [value]="mesero.idMesero">
          {{ mesero.nombres }} {{ mesero.apellidos }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="facturaForm.get('idMesero')?.hasError('required')">Mesero es requerido</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" style="width: 100%;">
      <mat-label>Fecha</mat-label>
      <input matInput type="date" formControlName="fecha" />
      <mat-error *ngIf="facturaForm.get('fecha')?.hasError('required')">Fecha es requerida</mat-error>
    </mat-form-field>

  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button type="button" (click)="cancelar()">Cancelar</button>
    <button mat-raised-button color="primary" type="submit">Crear</button>
  </mat-dialog-actions>
</form>
